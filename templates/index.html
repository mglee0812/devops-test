<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }}</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸš€ DevOps CI/CD Pipeline Demo</h1>
            <p>Jenkins + Docker + GitHub ìë™ ë°°í¬</p>
            <div class="version">
                Version {{ deployment.version }} | Build #{{ deployment.build_number }}
            </div>
            <div class="deploy-time">
                ë°°í¬ ì‹œê°„: {{ deployment.deployed_at }}
            </div>
        </header>

        <section class="stats">
            <div class="stat-box">
                <div class="stat-number">{{ stats.total }}</div>
                <div class="stat-label">ì „ì²´ ìƒí’ˆ</div>
            </div>
            <div class="stat-box">
                <div class="stat-number">{{ stats.in_stock }}</div>
                <div class="stat-label">ì¬ê³  ìˆìŒ</div>
            </div>
            <div class="stat-box">
                <div class="stat-number">{{ stats.out_of_stock }}</div>
                <div class="stat-label">í’ˆì ˆ</div>
            </div>
            <div class="stat-box">
                <div class="stat-number">â‚©{{ "{:,}".format(stats.total_value) }}</div>
                <div class="stat-label">ì´ ì¬ê³  ê°€ì¹˜</div>
            </div>
        </section>

        <section class="products">
            <h2>ğŸ“¦ ìƒí’ˆ ëª©ë¡</h2>
            <div class="product-grid">
                {% for product in products %}
                <div class="product-card {% if product.stock == 0 %}out-of-stock{% endif %}">
                    <h3>{{ product.name }}</h3>
                    <p class="price">â‚©{{ "{:,}".format(product.price) }}</p>
                    <p class="stock">
                        {% if product.stock > 0 %}
                            âœ… ì¬ê³ : {{ product.stock }}ê°œ
                        {% else %}
                            âŒ í’ˆì ˆ
                        {% endif %}
                    </p>
                </div>
                {% endfor %}
            </div>
        </section>

        <section class="api-info">
            <h2>ğŸ”— API ì—”ë“œí¬ì¸íŠ¸</h2>
            <div class="api-list">
                <a href="/health" target="_blank">GET /health - Health Check</a>
                <a href="/api/info" target="_blank">GET /api/info - ì•± ì •ë³´</a>
                <a href="/api/products" target="_blank">GET /api/products - ìƒí’ˆ ëª©ë¡</a>
                <a href="/api/stats" target="_blank">GET /api/stats - í†µê³„</a>
                <a href="/docs" target="_blank">GET /docs - API ë¬¸ì„œ (Swagger)</a>
            </div>
        </section>

        <footer>
            <p>ğŸ¯ CI/CD Pipeline: GitHub â†’ Jenkins â†’ Docker â†’ Deployment</p>
            <p>ğŸ–¥ï¸ Server: {{ deployment.server }}</p>
        </footer>
    </div>

    <script>
        // í˜ì´ì§€ ë¡œë“œ ì‹œ í†µê³„ ì—…ë°ì´íŠ¸
        console.log('âœ… Page loaded successfully');
        console.log('ğŸ“¦ Deployment Info:', {{ deployment | tojson }});
    </script>
</body>
</html>